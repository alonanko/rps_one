<link href="./resources/css/index.css" type="text/css" rel="stylesheet">
<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
  <div>
    <button class="btn" id="rock">rock</button>
    <button class="btn" id="paper">paper</button>
    <button class="btn" id="scissors">scissors</button>
  </div>

  <div class="scoreboard" id="container">
    <h1 class="score" id="pScore">You</h1>
    <h1 class="score" id="cScore">Computer</h1>
  </div>
</body>

<script>
  var p = 0;
  var c = 0;

  function resetScore(){
    p = 0;
    c = 0;
  }

  function updateScore(you, comp){
    p += you;
    c += comp; 
    playerScore.textContent =  p;
    compScore.textContent = c;

    if(p==5) {
      alert("You Win");
      resetScore();
    }
    if(c==5) {
      alert("You Lose");
      resetScore();
    }
  }

  function computerPlay(){
    a = ["rock", "paper", "scissors"];
    return a[Math.floor(Math.random()*3)];
  }
  function playRound(playerSelection, computerSelection){
    console.log(playerSelection);
    console.log(computerSelection);
    if(playerSelection == computerSelection) console.log("Draw");
    if(playerSelection == "rock" && computerSelection == "paper") updateScore(0,1);
    if(playerSelection == "rock" && computerSelection == "scissors") updateScore(1,0);
    if(playerSelection == "paper" && computerSelection == "rock") updateScore(1,0);
    if(playerSelection == "paper" && computerSelection == "scissors") updateScore(0,1);
    if(playerSelection == "scissors" && computerSelection == "rock") updateScore(0,1);
    if(playerSelection == "scissors" && computerSelection == "paper") updateScore(1,0);    
  }

  const playerScore = document.createElement('p');
  playerScore.classList.add = "score";
  playerScore.textContent = `${p}`;
  pScore.appendChild(playerScore);

  const compScore = document.createElement('p');
  playerScore.classList.add = "score";
  compScore.textContent = `${c}`;
  cScore.appendChild(compScore);

  const buttons = document.querySelectorAll('button');
  buttons.forEach(btn => btn.addEventListener("click", (e) => playRound(btn.id,computerPlay())));

</script>
</html>

